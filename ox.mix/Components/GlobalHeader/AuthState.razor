@namespace OX.Mix.Components
@inherits WebBoxComponentBase

<Space Class="@ClassMapper.Class" Size="@("24")">
    <SpaceItem>
        @if (HasMetaMask)
        {
            if (this.EthID.IsNotNull())
            {
                <Space>
                    @if (this.LastBlock.IsNotNull())
                    {
                        <SpaceItem>
                            <a href="/_pc/blockchain/explorer/@this.LastBlock.Index">@this.LastBlock.Index</a>
                            <a class="ethidspan">|</a>
                        </SpaceItem>
                    }
                    @*   <SpaceItem>
            <Text Copyable>@this.EthID.MapAddress.ToAddress()</Text>
            <a class="ethidspan">|</a>
            </SpaceItem>*@
                    <SpaceItem>
                        <a>@this.EthID.AddressID</a>
                        <a class="ethidspan">|</a>
                    </SpaceItem>
                    <SpaceItem>
                        <Text Copyable>@this.EthID.EthAddress</Text>
                </SpaceItem>
            </Space>
            }
            else
            {
                <a @onclick="ConnectMetaMask"><Avatar Src="/_content/ox.metamask/img/metamask-fox.svg" />@this.WebLocalString("连接钱包","Connect Wallet")</a>
            }
        }
        else
        {
            <a href="https://metamask.io" target="_blank">@this.WebLocalString("Metamask 没有安装,请点击安装","No MetaMask detected. Please install") </a>
        }

    </SpaceItem>
    <SpaceItem>
        @{
            var s = this.WebLocalString("English", "中文");
        }
        <Button Size="small" OnClick="_=>ChangeLanguage(s)">@s</Button>
    </SpaceItem>
</Space>
<style>
    .ethidspan {
        margin-left: 10px;
        margin-right: 10px;
    }
</style>